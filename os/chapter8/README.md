# <u>메모리 관리(Memory Management)</u>

어떤 프로그램이든 프로세스가 되어 프로세서에 적재되기 위해서는 메모리에 적재되어야 실행이 가능하다. 따라서 메모리는 중요한 작업 공간이고 한정된 메모리를 다중 프로그래밍 환경에서 이용하기 위해서는 여러 프로세스가
함께 메모리를 사용하므로 효율적인 관리를 해야한다.

#### 이러한 메모리 관리를 위해 메모리 관리자가 존재하고, 메모리 관리 장치(MMU, Memory Management Unit)와 OS 관리 모듈과 함께 진행한다.

이때 몇가지 정책에 따라 메모리 관리를 진행한다.

* 적재 청책(Fetch Policy)은 디스크에서 메모리로 프로세스를 언제 가져와야 할지를 정하는 것이다.

* 배치 정책(Placement Policy)은 디스크에서 메모리로 가져온 프로세스를 어느 위치에 저장 할 것인지 정하는 것이다.

* 대치 정책(Replacement Policy)은 메모리가 충분하지 않을 때 현재 메모리에 적재된 프로세스 중 제거할 프로세스를 결정하는 방법이다.

---
***논리적 주소, 물리적 주소***

* 논리적 주소
    * 논리적 주소는 쉽게 말해서 CPU 입장에서의 메모리 주소, 또는 프로그램 실행 중에 CPU가 생성하는 주소다. 따라서 가상 주소라고도 한다.
* 물리적 주소
    * 메모리가 저장장치에 불과하다는 것을 잊으면 안 된다. 메모리의 기능은 '데이터를 저장하는 컨테이너' 그 이상 그 이하도 아니다. 단순히 크기가 굉장히 큰 배열로 생각해도 무방하다. 배열이기 때문에 인덱스
      값을 가지는데, 이 인덱스 값을 '물리적 주소'라고 한다. 물리적 주소는 메모리 자체의 인덱스다. 위에 메인 메모리 그림에서 각 주소의 인덱스가 물리적 주소에 해당한다.

*Base, limit register*

* base -> 시작 주소
* limit -> 끝나는 주소 범위를 넘어가는 주소값 참조를 방지하기위해

---
***Address Binding***

* Load time binding
    * 프로그램의 실행이 시작될 때 물리적 주소가 결정된다. 이 바인딩에서는 로더가 메모리 주소를 부여하고 프로그램이 종료될 때 까지 물리주소가 고정된다.
* Compile time binding
    * 말 그대로 컴파일 할 때 물리적 메모리 주소가 결정되는 주소 바인딩이다. 프로그램의 물리적 주소를 변경하고 싶으면 다시 컴파일해야 한다.
* run time binding
    * 프로그램이 실행한 후에도 물리적 주소가 변경될 수 있는 바인딩 방식이다.

---

* ***Dynamic Loading& Overlays***

    * Dynamic Loading
        * 동적 적재. 프로세스가 시작하고, 필요한 작업이 호출될 때 해당 작업을 메모리에 적재(로딩)하는 방식으로 메모리를 효율적으로 사용할 수 있게 해줍니다.
    * Overlays
        * 메모리보다 프로세스가 더 클 때 사용되는 기법입니다.(현재는 x)

* ***Swapping***
    * 부족한 메모리 공간을 좀 더 효율적으로 관리하려는 메모리 관리 기법. CPU에서 시행되지 않는 프로세스 즉 ready상태이거나 waiting상태에 있는 프로세스들 중 일부를 메모리 안에 보관하지 않고
      하드디스크 같은 저장장치에 보관한다는 뜻이다.
* ***Dynamic Linking& Static Linking***
    * static linking
        * 정적 링킹이란 실행 가능한 목적 파일을 만들 때 프로그램에서 사용하는 모든 라이브러리 모듈을 복사하는 방식을 말하며 링커에 의해 이루어진다.
    * dynamic linking
        * 동적 링킹이란 실행 가능한 목적 파일을 만들 때 프로그램에서 사용하는 모든 라이브러리 모듈을 복사하지 않고 해당 모듈의 주소만을 가지고 있다가, 런타임에 실행 파일과 라이브러리가 메모리에 위치될 때
          해당 모듈의 주소로 가서 필요한 것을 들고 오는 방식이다.

---

***
***페이징 (Paging)***

프로세스를 일정한 크기의 페이지로 분할해서 메모리에 적재하는 방식이다.

페이지: 고정 사이즈의 가상 메모리 내 프로세스 조각 프레임: 페이지 크기와 같은 주 기억 장치의 메모리 조각

하나의 프로세스가 사용하는 메모리 공간이 연속적이어야 한다는 제약을 없애는 메모리 관리 방법이다.

***세그멘테이션(Segmentation)***

- 페이징 기법과 반대로 논리 메모리와 물리 메모리를 같은 크기의 블록이 아닌, 서로 다른 크기의 논리적 단위인 세그먼트로 분할

- 외부 단편화 발생
