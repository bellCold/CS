# <u>교착 상태(Deadlocks)</u>

교착상태(Dead Lock)은 상호 배제에 의해 나타나는 문제점으로, 둘 이상의 프로세스들이 자원을 점유한 상태에서 서로 다른 프로세스가 점유하고 있는 자원을 요구하며 무한정 기다리는 현상을 의미합니다.

***교착상태 발생의 필요 충분 조건 4가지***

| 이름                     | 발생조건                                                                                          |
|:-----------------------|:----------------------------------------------------------------------------------------------|
| 상호배제(Mutual Exclusion) | 한번에 한개의 프로세스만이 공유 자원을 사용할 수 있어야 합니다.                                                          |
| 점유와 대기(Hold and Wait)  | 최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 할당되어 사용되고 있는 자원을 추가로 점유하기 이해 대기하는 프로세스가 있어야 합니다.               |
| 비선점(Non-preemption)    | 다른 프로세스에 할당된 자원은 사용이 끝날 때까지 강제로 빼앗을 수 없어야합니다.                                                 |
| 순환 대기(Circular Wait)   | 공유자원과 공유자원을 사용하기 위해 대기하는 프로세스들이 원형으로 구성되어 있어 자신에게 할당된 자원을 점유하면서 앞이나 뒤에 있는 프로세스의 자원을 요구해야 합니다. |

---
***교착상태 처리 방법 4가지***

* 교착 상태 예방(Prevention)

    * 교착상태 예방 방법은 교착상태가 애초에 일어나지 않도록 방지하는 방법으로 교착상태의 발생조건 4가지 중 하나를 부정함으로써 교착상태를 예방하는 방법입니다.

* 회피(Avoidance)

    * 교착상태가 발생할 가능성이 있는 자원 할당(Unsafe allocation)을 하지 않고 안전한 상태(Safe state)에서만 자원 요청을 허용하는 방법입니다. 하지만 교착상태 회피를 하기 위해서는
      아래와 같은 가정이 필요합니다.
    * 은행원 알고리즘(Banker's Algorithm)
        * 모든 자원의 최대 할당량을 가지고 시뮬레이션을 하여 safe state에 들 수 있는지 여부를 검사하여 교착상태의 가능성을 미리 조사하는 알고리즘입니다. 3.교착 상태 탐지(Detection) 및
          복구(
          Recovery)

* 탐지(Detection) 및 회복(Recovery)

    * 교착 상태가 탐지되면 시스템에 문제가 발생하지 않도록 조치를 취합니다.
    * 시스템에 데드락이 발생했는지에 대한 여부를 탐색하고 회복 기법 알고리즘에 활용하는 것을 의미합니다. 교착상태가 탐지되었다면 회복 기법을 통해 교착상태를 복구합니다.

* 교착상태 무시(Ignore)

    * 교착 상태가 정말 드물게 발생하는 경우(1년에 한번) 교착 상태 예방 또는 탐지와 관련된 지속된 오버헤드 및 성능 저하를 발생 시키는 것보다 교착 상태가 발생하도록 하고 필요에 따라 재부팅하는 것이 더
      나을 수 있습니다.
      (Unix 및 window를 포함한 대부분의 운영체제가 사용하는 방법)